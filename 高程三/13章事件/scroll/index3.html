<!--20170523 滚动结束的监听-->

<!DOCTYPE html>
<html>

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title> scroll it and when click it and stop scroll</title>
</head>
<style type="text/css">
	::-webkit-scrollbar {
		width: 40px;
		height: 40px;
		background: rgba(0, 0, 0, 0.1);
		color: red;
	}

	html {
		height: 100%;
	}

	body {
		height: 800%;
	}

	div {
		text-align: right;
		text-decoration: underline;
	}

	div:nth-child(odd) {
		background-color: yellow;
	}

	a:nth-child(odd) {
		color: red;
		width: 100%;
	}

	a:nth-child(even) {
		color: blue;
		width: 100%;
	}
</style>

<body>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div>
		<a href="http://www.baidu.com">www.baidu.com</a>
	</div>
	<div>
		<a href="http://www.qq.com">www.qq.com</a>
	</div>
	<div id="showTarget">  </div>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" type="text/javascript"></script>
	<script>
		function handler() {
			event.preventDefault();
			console.log('canceled');
		}

		// $(window).scroll(function () {
		// 	console.log('scrolling');
		// 	clearTimeout($.data(this, 'scrollTimer'));
		// 	$.data(this, 'scrollTimer', setTimeout(function () {
		// 		// do something
		// 		document.removeEventListener("click", handler,true);
		// 		console.log("Haven't scrolled in 250ms!");
		// 	}, 6000));
		// 	document.addEventListener("click", handler, true);				
		// });
		// var lastTop,currentTop;
		// document.addEventListener('click',function(e){
		// 	e.preventDefault();
		// 	var target=e.target;
		// 	lastTop = target.getBoundingClientRect().top;
		// 	console.log(lastTop);
		// 	setTimeout(function(){
		// 		 currentTop=target.getBoundingClientRect().top;
		// 		console.log(currentTop)
		// 	},100)
		// });

		// var showTarget=document.getElementById('showTarget');
		// document.onscroll=function(){
		// $('#showTarget').append('<p>'+lastTop+'</p>');
		// $('#showTarget').append('<p>'+currentTop+'</p>')
		// }
		var count = 0, timer = null; 
        var oldTop = newTop = $(window).scrollTop(); //为了方便起见，使用jquery或者zepto框架
        function log(e){
            if(timer) clearTimeout(timer);
            newTop = $(window).scrollTop();
            console.log(++count,oldTop,newTop);
            if(newTop === oldTop) {
                clearTimeout(timer);
				$(window).off('click',log);
				//已停止，写入业务代码
            } else{
                oldTop = newTop;
				e.preventDefault();				
                timer = setTimeout(log,1000);
            }        
        }
        $(window).on('click',log);  
	</script>

</body>




</html>